

<div class="d-flex flex-column homoge-font-family">
    <div class="d-flex m-2 p-2 justify-content-around flex-row align-items-center first-div">
      <div>
        <%= cl_image_tag @teacher.photo.key, class: "round photo-show" %>
      </div>
      <div class=" d-flex flex-column info-show title-hhhhhhh">
        <h3> <%= @topic.title %></h3>
        <h4>  <i class="fa-solid fa-person-chalkboard"> </i> &nbsp;&nbsp;&nbsp;<%= @teacher.first_name %> <%= @teacher.last_name %></h4>
        <h4>  <i class="fa-solid fa-landmark"> </i> &nbsp;&nbsp;&nbsp; <%= @category.name %></h4>
        <%# <h4>Created <%= @teacher.reservations.count %>
        <%# courses</h4> %>
        <h4> <i class="fa-solid fa-language"></i> &nbsp;&nbsp;&nbsp; English, Arabic, French</h4>
      </div>

      <div class="d-none d-lg-block pl-lg-4 col-lg-4">
        <div class="sticky-top sticky-widget pt-7 is-sticky">
          <div class="card-widget h-100 d-flex flex-column reserve shadow">

            <div class="mt-2 mb-3">
             <h4 class="khra-h4"><%= @topic.pph %> MAD per hour</h4>
            </div>
            <!--calendar-->
            <span class="h-100 px-2 mt-2 ">
              <div id='reservation-dates' data-controller="reservation" data-reservation-unavailable-value="<%= @teacher.reservations.pluck(:start).to_json %>" >
                <%= simple_form_for([@topic, @reservation]) do |f| %>
                  <%= f.input :start, as: :string, label: "Starting date & time", placeholder: "From", wrapper_html: { class: "inline_field_wrapper" } %>
                  <%= f.input :end, as: :string, label: "Finishing date & time" '&nbsp;'.html_safe, placeholder: "To", disabled: true, wrapper_html: { class: "inline_field_wrapper" } %>
                  <div class="d-flex justify-content-center">
                    <%= f.submit "Book your Lesson", class: "btn d-inline-flex justify-content-center align-items-center btn-primary btn-lg btn-block flex-row-reverse btn-reserve" %>
                  </div>
                <% end %>
              </div> <!-- reservation/calendar-->
            </span>
          </div>
        </div>
      </div>

    </div>
    <div class="container">
      <h2>About the Course</h2>
      <p class="text-waaaaaaaaa"><%= @topic.description %></p>
    </div>
    <div class="container">
      <div class="d-flex justify-content-center flex-column">
        <div class="d-flex justify-content-between ">
          <h4><strong>Reviews</h4></strong>
          <h5><%=@topic.reviews.count %> reviews</h5>
        </div>

      </div>
      <% @topic.reviews.each do |review|%>
        <div class="reviews d-flex flex-column">
          <div class="m-b-4">
            <%= cl_image_tag review.user.photo.key, class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
            <span><strong><%= review.user.first_name %></span></strong>
          </div>
            <div>
                <p ><%=review.content%></p>
                <p class="icone">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                </p>
            </div>
        </div>
      <%end%>

    </div>
</div>
